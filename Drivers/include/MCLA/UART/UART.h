/*
 * UART.h
 *
 *  Created on: Mar 30, 2023
 *      Author: samir
 */

#ifndef UART_H_
#define UART_H_

/*******************************************Includes*******************************************************/
#include "Bit_math.h"
#include "Std_types.h"

/*******************************************************************************************************/
/******************************************* Macros ****************************************************/
/******************************************************************************************************/

/***************************************** UART Channal ********************************************/
#define UART_1      ((void *)0x40011000)  /*Don't change the value*/      
#define UART_2      ((void *)0x40004400)  /*Don't change the value*/
#define UART_6      ((void *)0x40011400)  /*Don't change the value*/


/**********************************************************************************************************/
/***************************************************END****************************************************/
/**********************************************************************************************************/


/******************************************************************************************************/
/******************************************* Types ****************************************************/
/******************************************************************************************************/


/*********************************************    ENUMS    ********************************************/
/**                                                                                                  **/
enum
{
	Uart_DISABLE ,
	Uart_ENABLE
};

/*Uart Channel*/
typedef enum
{
	UART1,
	UART2,
	UART6

}Uart_Channel_t;
/********************************************* ErrorStatus ********************************************/
typedef enum
{
	Uart_IDEL,
	Uart_Ok ,
    Uart_NOTOK,
	Uart_NullPointer,
	Uart_BUSY


}Uart_enuStatus_t;






/*********************************************   CFG Struct    ***************************************/

/*Uart Configuration*/
typedef struct
{
    void* UART_Channal;
    u8    Oversampling;
	u8    UartEnable;
	u8    WordLength;
	u8    ParityControl;
	u16   BaudRate;
}UART_CFG_t;

typedef void(*CallBack)(void);


/**********************************************************************************************************/
/***************************************************END****************************************************/
/**********************************************************************************************************/


/************************************************ APIs ***************************************************/
/*                                                                                                      */

/***************************************************************************************/
/*                                UART_init     function                               */
/***************************************************************************************/
/*  Description: used to initialize UART configuration                                 */
/* 	input:       UART_CFG_t                                                            */
/* 	return:      Uart_enuStatus_t                                                      */
/***************************************************************************************/
extern Uart_enuStatus_t UART_Init(const UART_CFG_t* copy_pCfg);


/***************************************************************************************/
/*                                UART_SendBufferAsynZeroCopy     function             */
/***************************************************************************************/
/*  Description: used to send buffer Asynchronosly in zeroCopy style                   */
/* 	input:       buffer ,size of the buffer                                            */
/* 	return:      Uart_enuStatus_t                                                      */
/***************************************************************************************/
extern Uart_enuStatus_t UART_SendBufferAsynZeroCopy(Uart_Channel_t UartChannel,const pu8 buffer, u32 size);


/***************************************************************************************/
/*                                UART_ReceiveBuffer     function                      */
/***************************************************************************************/
/*  Description: used to receive buffer Asynchronosly                                  */
/* 	input:       buffer ,size of the buffer                                            */
/* 	return:      Uart_enuStatus_t                                                      */
/***************************************************************************************/
extern Uart_enuStatus_t UART_ReceiveBuffer(Uart_Channel_t UartChannel, pu8 buffer, u32 size);

/***************************************************************************************/
/*                                UART_SetTXCallback     function                      */
/***************************************************************************************/
/*  Description: used to set callback for TX                                           */
/* 	input:       buffer ,size of the buffer                                            */
/* 	return:      Uart_enuStatus_t                                                      */
/***************************************************************************************/
extern Uart_enuStatus_t UART_SetTXCallback(Uart_Channel_t uartChannal, CallBack tx_callback);

/***************************************************************************************/
/*                                UART_SetRXCallback     function                      */
/***************************************************************************************/
/*  Description: used to set callback for RX                                           */
/* 	input:       Uart_Channel_t ,CallBack                                              */
/* 	return:      Uart_enuStatus_t                                                      */
/***************************************************************************************/
extern Uart_enuStatus_t UART_SetRXCallback(Uart_Channel_t uartChannal,CallBack rx_callback);

#endif /* MCLA_UART_UART_H_ */
